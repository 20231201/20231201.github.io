

<!DOCTYPE html>
<html lang="en" color-mode=light>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>前后端连接与php基础 - Hexo</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />
  
  <meta name="description" content="前后端连接与php基础​      December ...">
  <meta name="author" content="John Doe">
  <link rel="icon" href="/images/icons/favicon-16x16.png" type="image/png" sizes="16x16">
  <link rel="icon" href="/images/icons/favicon-32x32.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png" sizes="180x180">
  <meta rel="mask-icon" href="/images/icons/stun-logo.svg" color="#333333">
  
    <meta rel="msapplication-TileImage" content="/images/icons/favicon-144x144.png">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
    
<link rel="stylesheet" href="https://at.alicdn.com/t/font_1445822_p6ry5n7lrr.css">

  

  
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
    
      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/xcode.min.css" name="highlight-style" mode="light">

      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/solarized-dark.min.css" name="highlight-style" mode="dark">

      
  

  <script>
    var CONFIG = window.CONFIG || {};
    var ZHAOO = window.ZHAOO || {};
    CONFIG = {
      isHome: false,
      fancybox: true,
      pjax: false,
      loading: {
        gif: '/images/theme/loading.gif',
        lottie: ''
      },
      lazyload: {
        enable: true,
        only_post: 'false',
        loading: {
          gif: '/images/theme/loading.gif',
          lottie: ''
        }
      },
      donate: {
        enable: true,
        alipay: 'https://pic.izhaoo.com/alipay.jpg',
        wechat: 'https://pic.izhaoo.com/wechat.jpg'
      },
      galleries: {
        enable: true
      },
      fab: {
        enable: true,
        always_show: false
      },
      carrier: {
        enable: true
      },
      daovoice: {
        enable: false
      },
      preview: {
        background: {
          default: '',
          api: ''
        },
        motto: {
          default: '我在开了灯的床头下，想问问自己的心啊。',
          typing: true,
          api: 'https://v2.jinrishici.com/one.json',
          data_contents: '["data","content"]'
        },
      },
      qrcode: {
        enable: true,
        type: 'url',
        image: 'https://pic.izhaoo.com/weapp-code.jpg',
      },
      toc: {
        enable: true
      },
      scrollbar: {
        type: 'default'
      },
      notification: {
        enable: false,
        delay: 4500,
        list: '',
        page_white_list: '',
        page_black_list: ''
      },
      search: {
        enable: false,
        path: ''
      }
    }
  </script>

  

  

<meta name="generator" content="Hexo 6.3.0"></head>

<body class="lock-screen">
  <div class="loading" id="loading"></div>
  
    


  <nav class="navbar">
    <div class="left">
      
        <i class="iconfont iconhome j-navbar-back-home"></i>
      
      
        <i class="iconfont iconqrcode j-navbar-qrcode"></i>
      
      
        <i class="iconfont iconmoono" id="color-toggle" color-toggle="light"></i>
      
      
    </div>
    <div class="center">前后端连接与php基础</div>
    <div class="right">
      <i class="iconfont iconmenu j-navbar-menu"></i>
    </div>
    
      <div id="qrcode-navbar"></div>
    
  </nav>

  
  

<nav class="menu">
  <div class="menu-container">
    <div class="menu-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <ul class="menu-content"><li class="menu-item">
        <a href="/ " class="underline "> 首页</a>
      </li><li class="menu-item">
        <a href="/galleries/ " class="underline "> 摄影</a>
      </li><li class="menu-item">
        <a href="/archives/ " class="underline "> 归档</a>
      </li><li class="menu-item">
        <a href="/tags/ " class="underline "> 标签</a>
      </li><li class="menu-item">
        <a href="/categories/ " class="underline "> 分类</a>
      </li><li class="menu-item">
        <a href="/about/ " class="underline "> 关于</a>
      </li></ul>
    
      <div class="menu-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
    
  </div>
</nav>
  <main id="main">
  <div class="article-wrap">
    <div class="row container">
      <div class="col-xl-3"></div>
      <div class="col-xl-6"><article class="article">
  <div class="wrap">
    <section class="head">
  <img   class="lazyload" data-original="/images/theme/post-image.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  draggable="false">
  <div class="head-mask">
    <h1 class="head-title">前后端连接与php基础</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>January 18, 2024</span>
      
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>58417</span>
    </div>
  </div>
</section>
    <section class="main">
      <section class="content">
        
        <h1 id="前后端连接与php基础"><a href="#前后端连接与php基础" class="headerlink" title="前后端连接与php基础"></a>前后端连接与php基础</h1><p>​      December 12, 2023            57694    </p>
<h2 id="PHP基础语法"><a href="#PHP基础语法" class="headerlink" title="PHP基础语法"></a>PHP基础语法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// $b = &quot;1&quot;;</span><br><span class="line">// $a = &quot;1.0&quot;;</span><br><span class="line">// $s=$a.$s.&quot;bbb&quot;;//变量与变量之间用点连接</span><br><span class="line">// echo $s;</span><br><span class="line">// if($a ===$b)&#123;   //==弱类型匹配，只匹配值，不匹配类型,===是强类型</span><br><span class="line">//   echo 1;</span><br><span class="line">//   echo $a;</span><br><span class="line">// &#125;else&#123;</span><br><span class="line">//   echo 2;</span><br><span class="line">// &#125;</span><br><span class="line">// $a=$_GET[&#x27;a&#x27;];//可以从浏览器输入数据</span><br><span class="line">// echo $a;</span><br></pre></td></tr></table></figure>

<h3 id="for循环例题"><a href="#for循环例题" class="headerlink" title="for循环例题"></a>for循环例题</h3><p>假设在笼子里有头数为8的动物，总共有22只脚。</p>
<p>  <code>$a=2;</code></p>
<p>  <code>$b=4;</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for ($i = 0; $i &lt; 8; $i++) &#123;</span><br></pre></td></tr></table></figure>

<p>  <code>if($a*$i+$b*(8-$i)==22)&#123;</code></p>
<p>​    <code>$p=8-$i;</code></p>
<p>​    <code>echo &#39;鸡=&#39;.$i.PHP_EOL,&#39;兔=&#39;.$p;</code></p>
<p>  <code>&#125;</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>n张5毛，y张1块，z张10块，t张50，x张100，问我手上一共有156钱，一共有多少种组合，满足我手上的钱</p>
<p>  <code>function countCombinations($n, $y, $z, $t, $x, $total) &#123;</code>  </p>
<p>​    <code>$combinations = 0;</code>  </p>
<p>&#96;&#96;     </p>
<p>​    <code>// 遍历每种面额的组合数量</code>  </p>
<p>​    <code>for ($i = 0; $i &lt;= $n; $i++) &#123;</code>  </p>
<p>​      <code>for ($j = 0; $j &lt;= $y; $j++) &#123;</code>  </p>
<p>​        <code>for ($k = 0; $k &lt;= $z; $k++) &#123;</code>  </p>
<p>​          <code>for ($l = 0; $l &lt;= $t; $l++) &#123;</code>  </p>
<p>​            <code>for ($m = 0; $m &lt;= $x; $m++) &#123;</code>  </p>
<p>​              <code>// 计算当前组合的总金额</code>  </p>
<p>​              <code>$currentTotal = $i * 0.5 + $j * 1 + $k * 10 + $l * 50 + $m * 100;</code>  </p>
<p>&#96;&#96;               </p>
<p>​              <code>// 如果当前组合的总金额等于给定总金额，则增加组合数量</code>  </p>
<p>​              <code>if ($currentTotal === $total) &#123;</code>  </p>
<p>​                <code>$combinations++;</code>  </p>
<p>​              <code>&#125;</code>  </p>
<p>​            <code>&#125;</code>  </p>
<p>​          <code>&#125;</code>  </p>
<p>​        <code>&#125;</code>  </p>
<p>​      <code>&#125;</code>  </p>
<p>​    <code>&#125;</code>  </p>
<p>&#96;&#96;     </p>
<p>​    <code>return $combinations;</code>  </p>
<p>  <code>&#125;</code>  </p>
<p>&#96;&#96;   </p>
<p>  <code>// 给定总金额和每种面额的数量</code>  </p>
<p>  <code>$total = 156;</code>  </p>
<p>  <code>$n = 5; // 5毛的数量</code>  </p>
<p>  <code>$y = 3; // 1块的数量</code>  </p>
<p>  <code>$z = 2; // 10块的数量</code>  </p>
<p>  <code>$t = 0; // 50的数量</code>  </p>
<p>  <code>$x = 1; // 100的数量</code>  </p>
<p>  <code>// 调用函数计算组合数量</code>  </p>
<p>  <code>$combinations = countCombinations($n, $y, $z, $t, $x, $total);</code>  </p>
<p>  <code>echo &quot;满足条件的组合数量为：$combinations&quot;;</code>  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h2 id="前后端连接"><a href="#前后端连接" class="headerlink" title="前后端连接"></a>前后端连接</h2><p>下载并安装phpstudy_pro与navicat</p>
<h3 id="在phpstudy-pro中设置为："><a href="#在phpstudy-pro中设置为：" class="headerlink" title="在phpstudy_pro中设置为："></a>在phpstudy_pro中设置为：</h3><p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>启动apache与MySQL</p>
<p>并在数据库bin目录下设置：</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>数据库设置</p>
<h3 id="打开navicat，连接："><a href="#打开navicat，连接：" class="headerlink" title="打开navicat，连接："></a>打开navicat，连接：</h3><p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>连接数据库</p>
<p>在连接的数据库中新建security数据库，并新建查询输入如下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">/*</span><br><span class="line"> Navicat Premium Data Transfer</span><br><span class="line"></span><br><span class="line"> Source Server         : 1</span><br><span class="line"> Source Server Type    : MySQL</span><br><span class="line"> Source Server Version : 50741</span><br><span class="line"> Source Host           : localhost:3306</span><br><span class="line"> Source Schema         : security</span><br><span class="line"></span><br><span class="line"> Target Server Type    : MySQL</span><br><span class="line"> Target Server Version : 50741</span><br><span class="line"> File Encoding         : 65001</span><br><span class="line"></span><br><span class="line"> Date: 12/12/2023 15:44:36</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">SET NAMES utf8mb4;</span><br><span class="line">SET FOREIGN_KEY_CHECKS = 0;</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">-- Table structure for emails</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS `emails`;</span><br><span class="line">CREATE TABLE `emails`  (</span><br><span class="line">  `id` int(3) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `email_id` varchar(30) CHARACTER SET gbk COLLATE gbk_chinese_ci NOT NULL,</span><br><span class="line">  PRIMARY KEY (`id`) USING BTREE</span><br><span class="line">) ENGINE = InnoDB AUTO_INCREMENT = 9 CHARACTER SET = gbk COLLATE = gbk_chinese_ci ROW_FORMAT = Dynamic;</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">-- Records of emails</span><br><span class="line">-- ----------------------------</span><br><span class="line">INSERT INTO `emails` VALUES (1, &#x27;Dumb@dhakkan.com&#x27;);</span><br><span class="line">INSERT INTO `emails` VALUES (2, &#x27;Angel@iloveu.com&#x27;);</span><br><span class="line">INSERT INTO `emails` VALUES (3, &#x27;Dummy@dhakkan.local&#x27;);</span><br><span class="line">INSERT INTO `emails` VALUES (4, &#x27;secure@dhakkan.local&#x27;);</span><br><span class="line">INSERT INTO `emails` VALUES (5, &#x27;stupid@dhakkan.local&#x27;);</span><br><span class="line">INSERT INTO `emails` VALUES (6, &#x27;superman@dhakkan.local&#x27;);</span><br><span class="line">INSERT INTO `emails` VALUES (7, &#x27;batman@dhakkan.local&#x27;);</span><br><span class="line">INSERT INTO `emails` VALUES (8, &#x27;admin@dhakkan.com&#x27;);</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">-- Table structure for referers</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS `referers`;</span><br><span class="line">CREATE TABLE `referers`  (</span><br><span class="line">  `id` int(3) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `referer` varchar(256) CHARACTER SET gbk COLLATE gbk_chinese_ci NOT NULL,</span><br><span class="line">  `ip_address` varchar(35) CHARACTER SET gbk COLLATE gbk_chinese_ci NOT NULL,</span><br><span class="line">  PRIMARY KEY (`id`) USING BTREE</span><br><span class="line">) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = gbk COLLATE = gbk_chinese_ci ROW_FORMAT = Dynamic;</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">-- Table structure for uagents</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS `uagents`;</span><br><span class="line">CREATE TABLE `uagents`  (</span><br><span class="line">  `id` int(3) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `uagent` varchar(256) CHARACTER SET gbk COLLATE gbk_chinese_ci NOT NULL,</span><br><span class="line">  `ip_address` varchar(35) CHARACTER SET gbk COLLATE gbk_chinese_ci NOT NULL,</span><br><span class="line">  `username` varchar(20) CHARACTER SET gbk COLLATE gbk_chinese_ci NOT NULL,</span><br><span class="line">  PRIMARY KEY (`id`) USING BTREE</span><br><span class="line">) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = gbk COLLATE = gbk_chinese_ci ROW_FORMAT = Dynamic;</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">-- Table structure for users</span><br><span class="line">-- ----------------------------</span><br><span class="line">DROP TABLE IF EXISTS `users`;</span><br><span class="line">CREATE TABLE `users`  (</span><br><span class="line">  `id` int(3) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `username` varchar(20) CHARACTER SET gbk COLLATE gbk_chinese_ci NOT NULL,</span><br><span class="line">  `password` varchar(20) CHARACTER SET gbk COLLATE gbk_chinese_ci NOT NULL,</span><br><span class="line">  PRIMARY KEY (`id`) USING BTREE</span><br><span class="line">) ENGINE = InnoDB AUTO_INCREMENT = 15 CHARACTER SET = gbk COLLATE = gbk_chinese_ci ROW_FORMAT = Dynamic;</span><br><span class="line"></span><br><span class="line">-- ----------------------------</span><br><span class="line">-- Records of users</span><br><span class="line">-- ----------------------------</span><br><span class="line">INSERT INTO `users` VALUES (1, &#x27;Dumb&#x27;, &#x27;Dumb&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (2, &#x27;Angelina&#x27;, &#x27;I-kill-you&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (3, &#x27;Dummy&#x27;, &#x27;p@ssword&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (4, &#x27;secure&#x27;, &#x27;crappy&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (5, &#x27;stupid&#x27;, &#x27;stupidity&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (6, &#x27;superman&#x27;, &#x27;genious&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (7, &#x27;batman&#x27;, &#x27;mob!le&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (8, &#x27;admin&#x27;, &#x27;admin&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (9, &#x27;admin1&#x27;, &#x27;admin1&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (10, &#x27;admin2&#x27;, &#x27;admin2&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (11, &#x27;admin3&#x27;, &#x27;admin3&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (12, &#x27;dhakkan&#x27;, &#x27;dumbo&#x27;);</span><br><span class="line">INSERT INTO `users` VALUES (14, &#x27;admin4&#x27;, &#x27;admin4&#x27;);</span><br><span class="line"></span><br><span class="line">SET FOREIGN_KEY_CHECKS = 1;</span><br></pre></td></tr></table></figure>

<p>此时可见该数据库中添加了四张表格。</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>navicat数据库表格</p>
<h3 id="打开vscode，"><a href="#打开vscode，" class="headerlink" title="打开vscode，"></a>打开vscode，</h3><p>在phpstudy_pro的www目录下新建index.php与link.php文件</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>index与link</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">//link.php</span><br><span class="line">&lt;?php</span><br><span class="line">header(&#x27;content-type: text/html; charset=utf-8&#x27;);</span><br><span class="line"> if(isset($_POST[&#x27;submit&#x27;]))&#123;</span><br><span class="line">     $u = trim($_POST[&#x27;username&#x27;]);</span><br><span class="line">     $p = trim($_POST[&#x27;password&#x27;]);</span><br><span class="line">    $link=mysqli_connect(&quot;127.0.0.1&quot;,&quot;root&quot;,&quot;root&quot;,&quot;security&quot;)or exit(&quot;Error connecting&quot;);</span><br><span class="line">      mysqli_query($link,&quot;set names utf8&quot;);</span><br><span class="line">  $sql=  &quot;select * from users where username=&#x27;$u&#x27; and password=&#x27;$p&#x27;&quot;;</span><br><span class="line">  $result=mysqli_query($link, $sql) ;</span><br><span class="line">   $row=mysqli_fetch_array($result) ;</span><br><span class="line"> if($row)&#123;</span><br><span class="line">   echo &quot;&lt;font size=&#x27;5&#x27; color= &#x27;#99FF00&#x27;&gt;&quot;;</span><br><span class="line">   echo &#x27;Your Login name:&#x27;. $row[&#x27;username&#x27;].&quot;&lt;br&gt;&quot;;</span><br><span class="line">   echo &#x27;Your Password:&#x27; .$row[&#x27;password&#x27;];</span><br><span class="line">   echo &quot;&lt;/font&gt;&quot;;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">index.php</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0&quot;&gt;</span><br><span class="line">&lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"> </span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;link.php&quot;&gt;</span><br><span class="line">&lt;tr&gt;&lt;td&gt;用户名: &lt;/td&gt;&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;/td&gt;&lt;/tr&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;tr&gt;&lt;td&gt;密码:&lt;/td&gt;&lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;/td&gt;&lt;/tr&gt;</span><br><span class="line">&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;remeber&quot; value=&quot;yes&quot;&gt;记住密码&lt;/td&gt;&lt;br&gt;</span><br><span class="line">&lt;td&gt;</span><br><span class="line">&lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">&lt;/td&gt;</span><br><span class="line">&lt;td&gt;&lt;input type=&quot;reset&quot; value=&quot;重置&quot;&gt;&lt;/td&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>测试运行检查是否连接到数据库，在输入正确的用户名与密码后正常登入。</p>
<h3 id="完善页面"><a href="#完善页面" class="headerlink" title="完善页面"></a>完善页面</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line">link.php</span><br><span class="line">&lt;?php</span><br><span class="line">header(&#x27;content-type: text/html; charset=utf-8&#x27;);</span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line">if(isset($_POST[&#x27;submit&#x27;]))&#123;</span><br><span class="line">    $u = trim($_POST[&#x27;username&#x27;]);</span><br><span class="line">    $p = trim($_POST[&#x27;password&#x27;]);</span><br><span class="line"> $link=mysqli_connect(&quot;127.0.0.1&quot;,&quot;root&quot;,&quot;root&quot;,&quot;security&quot;)or exit(&quot;Error connecting&quot;);</span><br><span class="line">      mysqli_query($link,&quot;set names utf8&quot;);</span><br><span class="line">  $sql=  &quot;select * from users where username=&#x27;$u&#x27; and password=&#x27;$p&#x27;&quot;;</span><br><span class="line">  $result=mysqli_query($link, $sql) ;</span><br><span class="line">  if(mysqli_num_rows($result)&gt;=1)&#123;</span><br><span class="line">        $_SESSION[&#x27;user&#x27;]=$u;       </span><br><span class="line">        setcookie(&#x27;password&#x27;,$p,time()+7*12*60*60);</span><br><span class="line">        header(&#x27;Location:zhuye.php&#x27;);</span><br><span class="line">        exit();</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &#x27;用户名或密码错误!请重新输入!&#x27;;</span><br><span class="line">		//sleep(3);</span><br><span class="line">		echo &#x27;&lt;h1&gt;&lt;a href=&quot;./index.php&quot;&gt;返回&lt;/a&gt;&lt;/h1&gt;&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">?&gt;</span><br><span class="line">zhuye.php</span><br><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line">include(&quot;./comment.php&quot;);</span><br><span class="line">include(&quot;./upload.php&quot;);</span><br><span class="line">header(&#x27;Content-Type: text/html; charset=utf-8&#x27;);</span><br><span class="line"></span><br><span class="line">if(isset($_SESSION[&#x27;user&#x27;]))&#123;</span><br><span class="line">	echo &#x27;当前登录用户:&#x27;.$_SESSION[&#x27;user&#x27;].&#x27;&#x27;; </span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if (isset($_GET[&#x27;logout&#x27;])) &#123;</span><br><span class="line">    // 清除会话数据</span><br><span class="line">    session_unset();</span><br><span class="line">    session_destroy();</span><br><span class="line">    echo &quot;您已成功注销。&lt;br&gt;&quot;;</span><br><span class="line">	header(&#x27;Location:index.php&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo &#x27;&lt;h1&gt;&lt;a href=&quot;?logout=true&quot;&gt;注销&lt;/a&gt;&lt;/h1&gt;&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;else&#123;</span><br><span class="line">echo &#x27;错误!&#x27;;</span><br><span class="line">header(&#x27;Location:index.php&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">upload.php</span><br><span class="line">&lt;?php</span><br><span class="line">echo &#x27;</span><br><span class="line">&lt;form action=&quot;&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">&lt;label for=&quot;upload&quot;&gt;上传你的头像&lt;/label&gt;</span><br><span class="line">&lt;input name=&quot;file&quot; id=&quot;upload&quot; type=&quot;file&quot; &gt;</span><br><span class="line">&lt;label for=&quot;submit&quot;  &gt;文件上传&lt;/label&gt;</span><br><span class="line">&lt;input name=&quot;submit&quot; id=&quot;submit&quot; type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;h1&gt;下面是接收到的文件&lt;/h1&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&#x27;;</span><br><span class="line">header(&#x27;Content-Type: text/html; charset=utf-8&#x27;);</span><br><span class="line">if(isset($_FILES[&quot;file&quot;]))&#123;</span><br><span class="line">    $upload_dir = &quot;uploads&quot;;</span><br><span class="line">    $file_name = $_FILES[&quot;file&quot;][&quot;name&quot;];</span><br><span class="line">    $file_type = $_FILES[&quot;file&quot;][&quot;type&quot;];</span><br><span class="line">    $file_size = $_FILES[&quot;file&quot;][&quot;size&quot;];</span><br><span class="line">    $file_tmp = $_FILES[&quot;file&quot;][&quot;tmp_name&quot;];</span><br><span class="line">    $target_path = $upload_dir.&#x27;/&#x27;.$file_name;</span><br><span class="line">    if (move_uploaded_file($file_tmp, $target_path))&#123;</span><br><span class="line">        echo &quot;上传成功&quot;.&quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;文件类型: &quot; . $file_type . &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;文件大小: &quot; . ($file_size / 1024) . &quot; kB&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;文件存储的位置: &quot; . $target_path;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        echo &quot;上传失败&quot;.&quot;&lt;br&gt;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">	echo &quot;&lt;br/&gt;&quot;;</span><br><span class="line">echo &quot;&lt;img src=&#x27;./$target_path.&#x27;&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">comment.php</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form method=&quot;post&quot; action=&quot;&quot;&gt;</span><br><span class="line">        &lt;label for=&quot;comment&quot;&gt;发表评论&lt;/label&gt;&lt;br /&gt;</span><br><span class="line">        &lt;textarea name=&quot;comment&quot; id=&quot;comment&quot; rows=&quot;10&quot; cols=&quot;80&quot;&gt;&lt;/textarea&gt;&lt;br /&gt;</span><br><span class="line">        &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;提交评论&quot;&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">    &lt;h1&gt;历史评论&lt;/h1&gt;</span><br><span class="line">    &lt;?php</span><br><span class="line">    if ($_SERVER[&#x27;REQUEST_METHOD&#x27;] == &#x27;POST&#x27;) &#123;</span><br><span class="line">        if (isset($_POST[&#x27;comment&#x27;]) &amp;&amp; !empty($_POST[&#x27;comment&#x27;])) &#123;</span><br><span class="line">            $comment = $_POST[&#x27;comment&#x27;];</span><br><span class="line">            $link = mysqli_connect(&quot;localhost&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or exit(&quot;数据库连接失败！&quot;);</span><br><span class="line">            mysqli_query($link, &quot;set names utf8&quot;);</span><br><span class="line">            $ChaRu = &quot;insert INTO comments (comment) VALUES(&#x27;$comment&#x27;)&quot;;</span><br><span class="line">            if (mysqli_query($link, $ChaRu)) &#123;</span><br><span class="line">                echo &quot;&lt;p&gt;你的评论已成功保存到数据库。&lt;/p&gt;&quot;;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;保存评论时出错。&lt;/p&gt;&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            mysqli_close($link);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 显示最近的20条评论</span><br><span class="line">    $link = mysqli_connect(&quot;localhost&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or exit(&quot;数据库连接失败！&quot;);</span><br><span class="line">    mysqli_query($link, &quot;set names utf8&quot;);</span><br><span class="line"></span><br><span class="line">    $query = &quot;SELECT * FROM comments ORDER BY id DESC LIMIT 20&quot;;    </span><br><span class="line">    $result = mysqli_query($link, $query);</span><br><span class="line"></span><br><span class="line">    if ($result) &#123;</span><br><span class="line">        echo &quot;&lt;h2&gt;最近的评论&lt;/h2&gt;&quot;;</span><br><span class="line">        while ($row = mysqli_fetch_assoc($result)) &#123;</span><br><span class="line">            echo &quot;&lt;p&gt;&#123;$row[&#x27;comment&#x27;]&#125;&lt;/p&gt;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;获取评论时出错。&lt;/p&gt;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    mysqli_close($link);</span><br><span class="line">    ?&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>同时在navicat的security数据库中新建表：comments，包含id和comment两个字段。</p>
<p>comment：</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>评论</p>
<p>upload</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>提交文件</p>
<h2 id="php进阶"><a href="#php进阶" class="headerlink" title="php进阶"></a>php进阶</h2><h3 id="图书借阅网站"><a href="#图书借阅网站" class="headerlink" title="图书借阅网站"></a>图书借阅网站</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br></pre></td><td class="code"><pre><span class="line">index.php</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;./index.css&quot;&gt;</span><br><span class="line">    &lt;script src=&quot;./vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        body &#123;  </span><br><span class="line">            background-image: url(&quot;upload/屏幕截图\ 2023-12-15\ 143710.png&quot;);  </span><br><span class="line">            background-repeat: no-repeat;  </span><br><span class="line">            background-size: cover;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;login1&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;login2&quot;&gt;</span><br><span class="line">                &lt;i class=&quot;el-icon-user&quot;&gt;&lt;/i&gt;</span><br><span class="line">                &lt;h1&gt;登录&lt;/h1&gt;</span><br><span class="line">                &lt;el-input placeholder=&quot;请输入内容&quot; v-model=&quot;userData.username&quot; clearable&gt;&lt;/el-input&gt;</span><br><span class="line">                &lt;el-input placeholder=&quot;请输入内容&quot; v-model=&quot;userData.password&quot; clearable show-password&gt;&lt;/el-input&gt;</span><br><span class="line">                &lt;el-button type=&quot;primary&quot; @click=&quot;login&quot;&gt;登录&lt;/el-button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .el-icon-user &#123;</span><br><span class="line">            font-size: 100px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .login2 &#123;</span><br><span class="line">            text-align: center;</span><br><span class="line">            justify-content: center;</span><br><span class="line">            height: 20vh;</span><br><span class="line">            width: 20vw;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .login1 &#123;</span><br><span class="line">            display: flex;</span><br><span class="line">            flex-direction: column;</span><br><span class="line">            align-items: center;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">    &lt;script src=&quot;./axios.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &#x27;#app&#x27;,</span><br><span class="line">            data: function() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    visible: false,</span><br><span class="line">                    userData: &#123;</span><br><span class="line">                        username: &#x27;&#x27;,</span><br><span class="line">                        password: &#x27;&#x27;,</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                login: function() &#123;</span><br><span class="line">        if (this.userData.username === &#x27;admin&#x27;) &#123;</span><br><span class="line">            var username = this.userData.username;</span><br><span class="line">            window.location.href = &#x27;http://192.168.2.60/home.php?username=&#x27; + username;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            axios.post(&#x27;http://192.168.2.60/api.php&#x27;, &#123;</span><br><span class="line">    username: this.userData.username,</span><br><span class="line">    password: this.userData.password</span><br><span class="line">&#125;)</span><br><span class="line">.then((response) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;Received response:&#x27;, response);</span><br><span class="line">    // ... 其他处理逻辑</span><br><span class="line">&#125;)</span><br><span class="line">.catch((error) =&gt; &#123;</span><br><span class="line">    console.error(&#x27;Error occurred:&#x27;, error);</span><br><span class="line">    // ... 其他处理逻辑</span><br><span class="line">&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    open4: function() &#123;</span><br><span class="line">        this.$notify.error(&#123;</span><br><span class="line">            title: &#x27;错误&#x27;,</span><br><span class="line">            message: &#x27;账号密码错误&#x27;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br><span class="line">api.php</span><br><span class="line">&lt;?php</span><br><span class="line">// 首先获取POST请求中的用户名和密码</span><br><span class="line">$username = $_POST[&#x27;username&#x27;];</span><br><span class="line">$password = $_POST[&#x27;password&#x27;];</span><br><span class="line"></span><br><span class="line">$link = mysqli_connect(&quot;127.0.0.1&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or exit(&quot;Error connecting&quot;);</span><br><span class="line">mysqli_query($link, &quot;set names utf8&quot;);</span><br><span class="line"></span><br><span class="line">$stmt = mysqli_prepare($link, &quot;SELECT * FROM users WHERE username=? AND password=?&quot;);</span><br><span class="line">mysqli_stmt_bind_param($stmt, &quot;ss&quot;, $username, $password);</span><br><span class="line">mysqli_stmt_execute($stmt);</span><br><span class="line">$result = mysqli_stmt_get_result($stmt);</span><br><span class="line"></span><br><span class="line">if ($row = mysqli_fetch_assoc($result)) &#123;</span><br><span class="line">    // 登录成功，输出JSON格式的响应</span><br><span class="line">    echo json_encode(array(&quot;status&quot; =&gt; &quot;success&quot;));</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    // 登录失败，输出JSON格式的响应</span><br><span class="line">    echo json_encode(array(&quot;status&quot; =&gt; &quot;fail&quot;));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mysqli_stmt_close($stmt);</span><br><span class="line">mysqli_close($link);</span><br><span class="line">?&gt;</span><br><span class="line">home.php</span><br><span class="line">&lt;?php</span><br><span class="line">header(&#x27;Access-Control-Allow-Origin: *&#x27;); // 或者指定允许的域</span><br><span class="line">header(&#x27;Access-Control-Allow-Methods: POST, GET, OPTIONS&#x27;);</span><br><span class="line">header(&#x27;Access-Control-Allow-Headers: Content-Type&#x27;);</span><br><span class="line">session_start();</span><br><span class="line">header(&#x27;Content-Type: text/html; charset=utf-8&#x27;);</span><br><span class="line"></span><br><span class="line">// 连接到数据库  </span><br><span class="line">$link = mysqli_connect(&quot;127.0.0.1&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or exit(&quot;Error connecting&quot;);</span><br><span class="line">mysqli_query($link, &quot;set names utf8&quot;);</span><br><span class="line">if (isset($_GET[&#x27;username&#x27;])) &#123;</span><br><span class="line">    echo &#x27;当前登录用户:&#x27; . $_GET[&#x27;username&#x27;] . &#x27;&#x27;;</span><br><span class="line">    $user = $_GET[&#x27;username&#x27;];</span><br><span class="line">    if (isset($_GET[&#x27;logout&#x27;])) &#123;</span><br><span class="line">        // 清除会话数据  </span><br><span class="line">        session_unset();</span><br><span class="line">        session_destroy();</span><br><span class="line">        echo &quot;您已成功注销。&lt;br&gt;&quot;;</span><br><span class="line">        header(&#x27;Location:index.php&#x27;);</span><br><span class="line">        exit; // 确保在注销后退出脚本  </span><br><span class="line">    &#125;</span><br><span class="line">    echo &#x27;&lt;h1&gt;&lt;a href=&quot;?logout=true&quot;&gt;注销&lt;/a&gt;&lt;/h1&gt;&#x27;;</span><br><span class="line"></span><br><span class="line">    // 使用预处理语句进行SQL查询  </span><br><span class="line">    $stmt = mysqli_prepare($link, &quot;SELECT id FROM users WHERE username = ?&quot;);</span><br><span class="line">    mysqli_stmt_bind_param($stmt, &quot;s&quot;, $user);</span><br><span class="line">    mysqli_stmt_execute($stmt);</span><br><span class="line">    $result = mysqli_stmt_get_result($stmt);</span><br><span class="line">    if ($result &amp;&amp; mysqli_num_rows($result) &gt; 0) &#123;</span><br><span class="line">        // 获取查询结果并输出或进行其他处理  </span><br><span class="line">        $row = mysqli_fetch_assoc($result);</span><br><span class="line">        echo &quot;用户ID: &quot; . $row[&#x27;id&#x27;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        echo &quot;没有找到用户ID&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    // 释放结果和关闭预处理语句  </span><br><span class="line">    mysqli_stmt_close($stmt);</span><br><span class="line">    mysqli_free_result($result);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    echo &#x27;错误!&#x27;;</span><br><span class="line">    header(&#x27;Location:index.php&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;index&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; href=&quot;./index.css&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        body &#123;</span><br><span class="line">            font-family: Arial, sans-serif;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">            background-color: #f0f0f0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .container &#123;</span><br><span class="line">            width: 960px;</span><br><span class="line">            margin: 0 auto;</span><br><span class="line">            background-color: #fff;</span><br><span class="line">            padding: 20px;</span><br><span class="line">            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        header &#123;</span><br><span class="line">            text-align: center;</span><br><span class="line">            padding: 10px 0;</span><br><span class="line">            background-color: #333;</span><br><span class="line">            color: #fff;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        nav &#123;</span><br><span class="line">            background-color: #555;</span><br><span class="line">            color: #fff;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        nav a &#123;</span><br><span class="line">            color: #fff;</span><br><span class="line">            text-decoration: none;</span><br><span class="line">            margin: 0 10px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        section &#123;</span><br><span class="line">            padding: 20px 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        footer &#123;</span><br><span class="line">            text-align: center;</span><br><span class="line">            padding: 10px 0;</span><br><span class="line">            background-color: #333;</span><br><span class="line">            color: #fff;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .back-to-top &#123;</span><br><span class="line">            background-color: red;</span><br><span class="line">            color: white;</span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 100px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;header&gt;</span><br><span class="line">            &lt;h1&gt;图书馆管理系统&lt;/h1&gt;</span><br><span class="line">        &lt;/header&gt;</span><br><span class="line">        &lt;nav&gt;</span><br><span class="line">            &lt;button class=&quot;scroll-button&quot; onclick=&quot;scrollToElement(&#x27;tushu&#x27;)&quot;&gt;图书管理&lt;/button&gt; | &lt;button class=&quot;scroll-button&quot; onclick=&quot;scrollToElement(&#x27;yonghu&#x27;)&quot;&gt;用户管理&lt;/button&gt; | &lt;button class=&quot;scroll-button&quot; onclick=&quot;scrollToElement(&#x27;jieyue&#x27;)&quot;&gt;用户借阅管理&lt;/button&gt;</span><br><span class="line">        &lt;/nav&gt;</span><br><span class="line">        &lt;section&gt;</span><br><span class="line">            &lt;h2 id=&quot;tushu&quot;&gt;图书列表&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;&lt;?php</span><br><span class="line">                $query = &quot;SELECT * FROM 图书管理 limit 10&quot;;</span><br><span class="line">                $result = mysqli_query($link, $query);</span><br><span class="line">                if ($result) &#123;</span><br><span class="line">                    echo &quot;&lt;h2&gt;图书：&lt;/h2&gt;&quot;;</span><br><span class="line">                    while ($row = mysqli_fetch_assoc($result)) &#123;</span><br><span class="line">                        foreach ($row as $column =&gt; $value) &#123;</span><br><span class="line">                            echo &quot;&#123;$column&#125;: &#123;$value&#125;&lt;br&gt;&quot;;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;获取图书时出错。&lt;/p&gt;&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">                if ($_GET[&#x27;username&#x27;] == &#x27;admin&#x27;) &#123;</span><br><span class="line">                    // 跳转到另一个页面  </span><br><span class="line">                    echo &#x27;&lt;a href=&quot;tushuxiugai.php&quot;&gt;当前为管理员账号，可编辑图书&lt;/a&gt;&#x27;;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                        echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;当前为非管理员账号，无法编辑图书，仅可查找&lt;/p&gt;&quot;;</span><br><span class="line">                        echo &quot;&lt;form action=&#x27;chazhao.php&#x27; method=&#x27;post&#x27;&gt;&quot;;</span><br><span class="line">                        echo &quot;&lt;label for=&#x27;bookInput&#x27;&gt;请输入要查找的图书名:&lt;/label&gt;&lt;br&gt;&quot;;</span><br><span class="line">                        echo &quot;&lt;input type=&#x27;text&#x27; id=&#x27;bookInput&#x27; name=&#x27;book&#x27;&gt;&lt;br&gt;&quot;;</span><br><span class="line">                        echo &quot;&lt;input type=&#x27;submit&#x27; name=&#x27;submit2&#x27; value=&#x27;提交&#x27;&gt;&quot;;</span><br><span class="line">                        echo &quot;&lt;/form&gt;&quot;; </span><br><span class="line">                &#125;</span><br><span class="line">                ?&gt;</span><br><span class="line">                &lt;br /&gt;&lt;a href=&quot;xinxi.php&quot;&gt;查看完整书单&lt;/a&gt;</span><br><span class="line">            &lt;form action=&quot;jieyue.php&quot; method=&quot;post&quot;&gt;</span><br><span class="line">                &lt;?php</span><br><span class="line">                // 输出当前用户的信息</span><br><span class="line">                if (isset($_GET[&#x27;username&#x27;])) &#123;</span><br><span class="line">                    $user = $_GET[&#x27;username&#x27;];</span><br><span class="line">                    $query = &quot;SELECT id FROM users WHERE username = &#x27;$user&#x27;&quot;;</span><br><span class="line">                    $result = mysqli_query($link, $query);</span><br><span class="line">                    if ($result &amp;&amp; mysqli_num_rows($result) &gt; 0) &#123;</span><br><span class="line">                        $row = mysqli_fetch_assoc($result);</span><br><span class="line">                        echo &quot;用户ID: &quot; . $row[&#x27;id&#x27;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">                        // 添加表单</span><br><span class="line">                        echo &quot;&lt;form action=&#x27;jieyue.php&#x27; method=&#x27;post&#x27;&gt;&quot;;</span><br><span class="line">                        echo &quot;&lt;input type=&#x27;hidden&#x27; name=&#x27;userId&#x27; value=&#x27;&quot; . $row[&#x27;id&#x27;] . &quot;&#x27;&gt;&quot;;</span><br><span class="line">                        echo &quot;&lt;label for=&#x27;bookInput&#x27;&gt;请输入要借阅的图书名：&lt;/label&gt;&lt;br&gt;&quot;;</span><br><span class="line">                        echo &quot;&lt;input type=&#x27;text&#x27; id=&#x27;bookInput&#x27; name=&#x27;book&#x27;&gt;&lt;br&gt;&quot;;</span><br><span class="line">                        echo &quot;&lt;input type=&#x27;submit&#x27; name=&#x27;submit2&#x27; value=&#x27;提交&#x27;&gt;&quot;;</span><br><span class="line">                        echo &quot;&lt;/form&gt;&quot;;</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        echo &quot;没有找到用户ID&quot;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    echo &#x27;错误!&#x27;;</span><br><span class="line">                    header(&#x27;Location:index.php&#x27;);</span><br><span class="line">                &#125;</span><br><span class="line">                ?&gt;</span><br><span class="line">            &lt;/form&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &lt;/section&gt;</span><br><span class="line">        &lt;section&gt;</span><br><span class="line">            &lt;h2 id=&quot;yonghu&quot;&gt;用户列表&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;&lt;?php</span><br><span class="line">                $query = &quot;SELECT id,username FROM users ORDER BY id limit 10&quot;;</span><br><span class="line">                $result = mysqli_query($link, $query);</span><br><span class="line">                if ($result) &#123;</span><br><span class="line">                    echo &quot;&lt;h2&gt;用户：&lt;/h2&gt;&quot;;</span><br><span class="line">                    while ($row = mysqli_fetch_assoc($result)) &#123;</span><br><span class="line">                        foreach ($row as $column =&gt; $value) &#123;</span><br><span class="line">                            echo &quot;&#123;$column&#125;: &#123;$value&#125;&lt;br&gt;&quot;;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;获取用户时出错。&lt;/p&gt;&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">                if ($_GET[&#x27;username&#x27;] == &#x27;admin&#x27;) &#123;</span><br><span class="line">                    // 跳转到另一个页面  </span><br><span class="line">                    echo &#x27;&lt;a href=&quot;yonghu1.php&quot;&gt;当前为管理员账号，可编辑用户&lt;/a&gt;&#x27;;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;当前为非管理员账号，无法编辑用户&lt;/p&gt;&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">                ?&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/section&gt;</span><br><span class="line">        &lt;section&gt;</span><br><span class="line">            &lt;h2 id=&quot;jieyue&quot;&gt;用户借阅信息列表&lt;/h2&gt;</span><br><span class="line">            &lt;p&gt;&lt;?php</span><br><span class="line">                $query = &quot;SELECT * FROM 用户借阅管理 ORDER BY id DESC limit 10&quot;;</span><br><span class="line">                $result = mysqli_query($link, $query);</span><br><span class="line">                if ($result) &#123;</span><br><span class="line">                    echo &quot;&lt;h2&gt;借阅信息：&lt;/h2&gt;&quot;;</span><br><span class="line">                    while ($row = mysqli_fetch_assoc($result)) &#123;</span><br><span class="line">                        foreach ($row as $column =&gt; $value) &#123;</span><br><span class="line">                            echo &quot;&#123;$column&#125;: &#123;$value&#125;&lt;br&gt;&quot;;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;获取借阅信息时出错。&lt;/p&gt;&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">                if ($_GET[&#x27;username&#x27;] == &#x27;admin&#x27;) &#123;</span><br><span class="line">                    // 跳转到另一个页面  </span><br><span class="line">                    echo &#x27;&lt;a href=&quot;yonghu1.php&quot;&gt;当前为管理员账号，可编辑借阅信息&lt;/a&gt;&#x27;;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;当前为非管理员账号，无法编辑借阅信息&lt;/p&gt;&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">                mysqli_close($link);</span><br><span class="line">                ?&gt;&lt;/p&gt;</span><br><span class="line">        &lt;/section&gt;</span><br><span class="line">        &lt;footer&gt;ls版权所有 &amp;copy; 2023&lt;/footer&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;button class=&quot;back-to-top&quot; onclick=&quot;window.scrollTo(0,0)&quot;&gt;回到顶部&lt;/button&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function scrollToElement(elementId) &#123;</span><br><span class="line">            var element = document.getElementById(elementId);</span><br><span class="line">            window.scrollTo(0, element.offsetTop);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">chazhao.php</span><br><span class="line">&lt;?php</span><br><span class="line">$u=trim($_POST[&quot;book&quot;]);</span><br><span class="line">$link=mysqli_connect(&quot;127.0.0.1&quot;,&quot;root&quot;,&quot;root&quot;,&quot;security&quot;);</span><br><span class="line">mysqli_query($link,&quot;set names utf8&quot;);</span><br><span class="line">$query = &quot;SELECT * FROM 图书管理 where 图书名 = &#x27;$u&#x27;&quot;;</span><br><span class="line">$result = mysqli_query($link, $query);</span><br><span class="line">if (mysqli_num_rows($result) &gt; 0) &#123;</span><br><span class="line">    while ($row = mysqli_fetch_assoc($result)) &#123;</span><br><span class="line">        foreach ($row as $column =&gt; $value) &#123;</span><br><span class="line">            echo &quot;&#123;$column&#125;: &#123;$value&#125;&lt;br&gt;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;图书库里未找到该书。&lt;/p&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;a href=&quot;1.php&quot;&gt;点击返回主页&lt;/a&gt;</span><br><span class="line">jieyue.php</span><br><span class="line">&lt;?php</span><br><span class="line">header(&#x27;content-type: text/html; charset=utf-8&#x27;);</span><br><span class="line"></span><br><span class="line">$id = $_POST[&#x27;userId&#x27;]; </span><br><span class="line">if (isset($_POST[&#x27;submit2&#x27;])) &#123;</span><br><span class="line">    $u = trim($_POST[&#x27;book&#x27;]);</span><br><span class="line">    $p = $id;</span><br><span class="line">    $link = mysqli_connect(&quot;127.0.0.1&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or exit(&quot;Error connecting&quot;);</span><br><span class="line">    mysqli_query($link, &quot;set names utf8&quot;);</span><br><span class="line">    $sql = &quot;select * from 图书管理 where 图书名 = &#x27;$u&#x27;&quot;;</span><br><span class="line">    $result = mysqli_query($link, $sql);</span><br><span class="line">    $row1 = mysqli_fetch_assoc($result);</span><br><span class="line">    if($row1)&#123;//是否存在该书名</span><br><span class="line">        $book_id = $row1[&#x27;id&#x27;];  // 获取到图书对应的id</span><br><span class="line">        $sql2 = &quot;select username from users where id = &#x27;$p&#x27;&quot;;</span><br><span class="line">        $result2 = mysqli_query($link, $sql2);</span><br><span class="line">        $row2 = mysqli_fetch_assoc($result2);</span><br><span class="line">        if($row2)&#123;//是否存在该借阅人</span><br><span class="line">            $username = $row2[&#x27;username&#x27;];  // 获取到借阅人的用户名</span><br><span class="line">            $sql3 =  &quot;INSERT INTO 用户借阅管理(借阅人username, 借阅图书id, 借阅人id, 借阅图书名) VALUES (&#x27;$username&#x27;, &#x27;$book_id&#x27;, &#x27;$p&#x27;, &#x27;$u&#x27;)&quot;;</span><br><span class="line">            if (mysqli_query($link, $sql3)) &#123;  </span><br><span class="line">                echo &quot;成功&quot;;  </span><br><span class="line">            &#125; else &#123;  </span><br><span class="line">                echo &quot;错误: &quot; . $link-&gt;error;  </span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            echo &quot;未找到对应借阅人&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        echo &quot;不存在该书名&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    echo &#x27;&lt;a href=&quot;1.php&quot;&gt;点击返回首页&lt;/a&gt;&#x27;;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    echo &quot;未提交表单&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line">jieyuexinxi.php</span><br><span class="line">&lt;?php</span><br><span class="line">header(&#x27;content-type: text/html; charset=utf-8&#x27;);</span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line">if (isset($_POST[&#x27;submit1&#x27;])) &#123;</span><br><span class="line">    $u = trim($_POST[&#x27;id&#x27;]);</span><br><span class="line">    $p = trim($_POST[&#x27;id1&#x27;]);</span><br><span class="line">    $q = trim($_POST[&#x27;userid&#x27;]);</span><br><span class="line">    $h = trim($_POST[&#x27;shanchu&#x27;]);</span><br><span class="line">    $s = trim($_POST[&#x27;chaxun&#x27;]);</span><br><span class="line">    $link = mysqli_connect(&quot;127.0.0.1&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or exit(&quot;Error connecting&quot;);</span><br><span class="line">    mysqli_query($link, &quot;set names utf8&quot;);</span><br><span class="line">    $sql=&quot;select * from users where username = &#x27;$u&#x27;&quot;;</span><br><span class="line">    $result = mysqli_query($link, $sql);</span><br><span class="line">    if($u==null and $p!=null and $q!=null)&#123;//是否存在该用户</span><br><span class="line">    $sql =  &quot;INSERT INTO users( username, password)  VALUES ( &#x27;$p&#x27;, &#x27;$q&#x27;);&quot;;</span><br><span class="line">&#125;elseif($h!=null)&#123;//删除</span><br><span class="line">    $sql = &quot;DELETE FROM users  </span><br><span class="line">    WHERE username = &#x27;$h&#x27;;&quot;;</span><br><span class="line">&#125;elseif($s!=null)&#123;//查询</span><br><span class="line">    $sql = &quot; select * from users where username = &#x27;$s&#x27;&quot;;</span><br><span class="line">&#125;elseif($q==null and $u==null and $p!=null)&#123;//未输入密码</span><br><span class="line">    echo &quot;请输入密码&quot;;</span><br><span class="line">    $sql = &quot;select * from users where username = &#x27;$q&#x27;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">else&#123;//更新</span><br><span class="line">    $sql = &quot;UPDATE users SET username=&#x27;$p&#x27; , password=&#x27;$q&#x27; where username=&#x27;$u&#x27;&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (mysqli_query($link, $sql)) &#123;  </span><br><span class="line">    echo &quot;成功&quot;;</span><br><span class="line">&#125; else &#123;  </span><br><span class="line">    echo &quot;错误: &quot; . $conn-&gt;error;  </span><br><span class="line">&#125;   </span><br><span class="line">&#125; else &#123;</span><br><span class="line">    echo &quot;连接失败&quot;;</span><br><span class="line">&#125;</span><br><span class="line">echo &#x27;&lt;a href=&quot;1.php&quot;&gt;点击返回主页&lt;/a&gt;</span><br><span class="line">&#x27;;</span><br><span class="line">?&gt;</span><br><span class="line">tushu.php</span><br><span class="line">&lt;?php</span><br><span class="line">header(&#x27;content-type: text/html; charset=utf-8&#x27;);</span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line">if (isset($_POST[&#x27;submit1&#x27;])) &#123;</span><br><span class="line">    $u = trim($_POST[&#x27;book&#x27;]);</span><br><span class="line">    $p = trim($_POST[&#x27;book1&#x27;]);</span><br><span class="line">    $q = trim($_POST[&#x27;zuozhe&#x27;]);</span><br><span class="line">    $h = trim($_POST[&#x27;shanchu&#x27;]);</span><br><span class="line">    $s = trim($_POST[&#x27;chaxun&#x27;]);</span><br><span class="line">    $link = mysqli_connect(&quot;127.0.0.1&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or exit(&quot;Error connecting&quot;);</span><br><span class="line">    mysqli_query($link, &quot;set names utf8&quot;);</span><br><span class="line">    $sql=&quot;select * from 图书管理 where 图书名 = &#x27;$u&#x27;&quot;;</span><br><span class="line">    $result = mysqli_query($link, $sql);</span><br><span class="line">    if($u==null and $p!=null)&#123;//是否存在该书名</span><br><span class="line">    $sql =  &quot;INSERT INTO 图书管理( 图书名, 作者)  VALUES ( &#x27;$p&#x27;, &#x27;$q&#x27;);&quot;;</span><br><span class="line">&#125;elseif($h!=null)&#123;</span><br><span class="line">    $sql = &quot;DELETE FROM 图书管理  </span><br><span class="line">    WHERE 图书名 = &#x27;$h&#x27;;&quot;;</span><br><span class="line">&#125;elseif($s!=null)&#123;</span><br><span class="line">    $sql = &quot;select select * from 图书管理 where 图书名 = &#x27;$s&#x27;&quot;;</span><br><span class="line">&#125;elseif($q==null and $u==null and $p!=null)&#123;//未输入密码</span><br><span class="line">    echo &quot;请输入密码&quot;;</span><br><span class="line">    $sql = &quot;select * from 图书管理 where 图书名 = &#x27;$q&#x27;&quot;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    $sql = &quot;UPDATE 图书管理 SET 图书名=&#x27;$p&#x27; , 作者=&#x27;$q&#x27; where 图书名=&#x27;$u&#x27;&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (mysqli_query($link, $sql)) &#123;  </span><br><span class="line">    echo &quot;成功&quot;;  </span><br><span class="line">&#125; else &#123;  </span><br><span class="line">    echo &quot;错误: &quot; . $conn-&gt;error;  </span><br><span class="line">&#125;   </span><br><span class="line">&#125; else &#123;</span><br><span class="line">    echo &quot;连接失败&quot;;</span><br><span class="line">&#125;</span><br><span class="line">echo &#x27;&lt;a href=&quot;1.php&quot;&gt;点击返回首页&lt;/a&gt;</span><br><span class="line">&#x27;;</span><br><span class="line">?&gt;</span><br><span class="line">tushuxiugai.php</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;用户管理&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;  </span><br><span class="line">        body &#123;  </span><br><span class="line">            background-image: url(&quot;upload/8fb7605db8918ba64c0794857cb5a64.jpg&quot;);  </span><br><span class="line">            background-repeat: no-repeat;  </span><br><span class="line">            background-size: cover;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &lt;/style&gt; </span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=&quot;tushu.php&quot; method=&quot;post&quot;&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入要修改的图书名(若要添加可不填)：&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;book&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入修改后的图书名：&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;book1&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入修改后的作者名：&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;zuozhe&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入要删除的书名：&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;shanchu&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入要查询的书名：&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;chaxun&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;submit&quot; name=&quot;submit1&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type=&quot;reset&quot; value=&quot;重置&quot;&gt;</span><br><span class="line">            &lt;/form&gt;</span><br><span class="line">            &lt;a href=&quot;1.php&quot;&gt;点击返回主页&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">xinxi.php</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;图书信息&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">    body&#123;</span><br><span class="line">        background-image:url(&quot;upload/fba8bef1d709d7b45fae1bfc6e2f737.jpg&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    .return&#123;</span><br><span class="line">        display: block;  </span><br><span class="line">        text-align: center;</span><br><span class="line">        font-size: 30px;</span><br><span class="line">    &#125;</span><br><span class="line">    .wenzi&#123;</span><br><span class="line">        color:gold;</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;a href=&quot;1.php&quot; class=&quot;return&quot;&gt;点击返回主页&lt;/a&gt;</span><br><span class="line">    &lt;div class=&quot;wenzi&quot;&gt;</span><br><span class="line">    &lt;?php</span><br><span class="line">$link=mysqli_connect(&quot;127.0.0.1&quot;,&quot;root&quot;,&quot;root&quot;,&quot;security&quot;);</span><br><span class="line">mysqli_query($link,&quot;set names utf8&quot;);</span><br><span class="line">$query = &quot;SELECT * FROM 图书管理&quot;;</span><br><span class="line">$result = mysqli_query($link, $query);</span><br><span class="line">if ($result) &#123;</span><br><span class="line">    echo &quot;&lt;h2&gt;图书：&lt;/h2&gt;&quot;;</span><br><span class="line">    while ($row = mysqli_fetch_assoc($result)) &#123;</span><br><span class="line">        foreach ($row as $column =&gt; $value) &#123;</span><br><span class="line">            echo &quot;&#123;$column&#125;: &#123;$value&#125;&lt;br&gt;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    echo &quot;&lt;p style=&#x27;color: red;&#x27;&gt;获取图书时出错。&lt;/p&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">yonghu.php</span><br><span class="line">&lt;?php</span><br><span class="line">header(&#x27;content-type: text/html; charset=utf-8&#x27;);</span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line">if (isset($_POST[&#x27;submit1&#x27;])) &#123;</span><br><span class="line">    $u = trim($_POST[&#x27;user&#x27;]);</span><br><span class="line">    $p = trim($_POST[&#x27;user1&#x27;]);</span><br><span class="line">    $q = trim($_POST[&#x27;mima&#x27;]);</span><br><span class="line">    $h = trim($_POST[&#x27;shanchu&#x27;]);</span><br><span class="line">    $s = trim($_POST[&#x27;chaxun&#x27;]);</span><br><span class="line">    $link = mysqli_connect(&quot;127.0.0.1&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or exit(&quot;Error connecting&quot;);</span><br><span class="line">    mysqli_query($link, &quot;set names utf8&quot;);</span><br><span class="line">    $sql=&quot;select * from users where username = &#x27;$u&#x27;&quot;;</span><br><span class="line">    $result = mysqli_query($link, $sql);</span><br><span class="line">    if($u==null and $p!=null and $q!=null)&#123;//是否存在该用户</span><br><span class="line">    $sql =  &quot;INSERT INTO users( username, password)  VALUES ( &#x27;$p&#x27;, &#x27;$q&#x27;);&quot;;</span><br><span class="line">&#125;elseif($h!=null)&#123;//删除</span><br><span class="line">    $sql = &quot;DELETE FROM users  </span><br><span class="line">    WHERE username = &#x27;$h&#x27;;&quot;;</span><br><span class="line">&#125;elseif($s!=null)&#123;//查询</span><br><span class="line">    $sql = &quot; select * from users where username = &#x27;$s&#x27;&quot;;</span><br><span class="line">&#125;elseif($q==null and $u==null and $p!=null)&#123;//未输入密码</span><br><span class="line">    echo &quot;请输入密码&quot;;</span><br><span class="line">    $sql = &quot;select * from users where username = &#x27;$q&#x27;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">else&#123;//更新</span><br><span class="line">    $sql = &quot;UPDATE users SET username=&#x27;$p&#x27; , password=&#x27;$q&#x27; where username=&#x27;$u&#x27;&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (mysqli_query($link, $sql)) &#123;  </span><br><span class="line">    echo &quot;成功&quot;;</span><br><span class="line">&#125; else &#123;  </span><br><span class="line">    echo &quot;错误: &quot; . $conn-&gt;error;  </span><br><span class="line">&#125;   </span><br><span class="line">&#125; else &#123;</span><br><span class="line">    echo &quot;连接失败&quot;;</span><br><span class="line">&#125;</span><br><span class="line">echo &#x27;&lt;a href=&quot;1.php&quot;&gt;点击返回主页&lt;/a&gt;</span><br><span class="line">&#x27;;</span><br><span class="line">?&gt;</span><br><span class="line">yonghu1.php</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;用户管理&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;  </span><br><span class="line">        body &#123;  </span><br><span class="line">            background-image: url(&quot;upload/1d84875aea7e21783d8bad4240722a0.jpg&quot;);  </span><br><span class="line">            background-repeat: no-repeat;  </span><br><span class="line">            background-size: cover;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &lt;/style&gt; </span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=&quot;yonghu.php&quot; method=&quot;post&quot;&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入要修改的用户名(若要添加可不填):&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;user&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入修改后(添加)的用户：&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;user1&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入修改后的密码：&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;mima&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入要删除的用户名：&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;shanchu&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入要查询的用户名：&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;chaxun&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;submit&quot; name=&quot;submit1&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type=&quot;reset&quot;   value=&quot;重置&quot; &gt;&lt;br&gt;</span><br><span class="line">            &lt;/form&gt;</span><br><span class="line">            &lt;form action=&quot;jieyuexinxi.php&quot; method=&quot;post&quot;&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入要修改的借阅信息id(若要添加可不填):&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;id&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入修改后(添加)的借阅信息id:&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;id1&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入修改后的借阅人id:&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;userid&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入要删除的借阅信息id:&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;shanchu&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入要查询的借阅信息id:&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;chaxun&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;submit&quot; name=&quot;submit1&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type=&quot;reset&quot;   value=&quot;重置&quot; &gt;&lt;br&gt;</span><br><span class="line">            &lt;/form&gt;</span><br><span class="line">            &lt;a href=&quot;1.php&quot;&gt;点击返回主页&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">yonghu2.php</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;用户管理&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;  </span><br><span class="line">        body &#123;  </span><br><span class="line">            background-image: url(&quot;upload/8c76d8c3bedbf543f743a4567d8be1e.jpg&quot;);  </span><br><span class="line">            background-repeat: no-repeat;  </span><br><span class="line">            background-size: cover;</span><br><span class="line">            color: aliceblue;</span><br><span class="line">        &#125;  </span><br><span class="line">    &lt;/style&gt; </span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=&quot;yonghu.php&quot; method=&quot;post&quot;&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入注册用户名：&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;user1&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;label for=&quot;inputValue&quot;&gt;请输入密码：&lt;/label&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; id=&quot;inputValue&quot; name=&quot;mima&quot;&gt;&lt;br&gt;</span><br><span class="line">                &lt;input type=&quot;submit&quot; name=&quot;submit1&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type=&quot;reset&quot;   value=&quot;重置&quot; &gt;&lt;br&gt;</span><br><span class="line">                &lt;a href=&quot;index.php&quot;&gt;点击返回主页&lt;/a&gt;</span><br><span class="line">            &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>postman</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>www文件夹</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>登录页</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>home.php</p>
<p>Admin用户登录会提示为管理员，点击可跳转编辑数据库内容。查看书单和借阅图书功能所有用户可使用。</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>img</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>img</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>img</p>
<p>借阅：</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>img</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>img</p>
<p>管理员用户的图书管理：</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>更改图书界面</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>更改图书</p>
<p><img    class="lazyload" data-original="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="   ><span class="image-caption">img</span>navicat数据库内容改动后</p>
<p>其余功能以此类推。</p>
<h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><p>项目文件夹</p>
<p>phpstudy_pro 小皮</p>
<p>element组件网页</p>
<p>Visual Studio Code</p>
<h3 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h3><p>新建index.php文件</p>
<p>html使用vue材料包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 引入Element UI样式 --&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/element-ui/lib/theme-chalk/index.css&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 引入Vue --&gt;</span><br><span class="line">&lt;script src=&quot;https://unpkg.com/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 引入Element UI组件库 --&gt;</span><br><span class="line">&lt;script src=&quot;https://unpkg.com/element-ui/lib/index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 引入axios --&gt;</span><br><span class="line">&lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;./index.css&quot;&gt;</span><br><span class="line">   &lt;script src=&quot;./vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">   &lt;script src=&quot;./index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">   &lt;script src=&quot;./axios.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>基本HTML结构的使用Vue和Element UI搭建的单页面应用骨架模板</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;title&gt;数据交互&lt;/title&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;link rel=&quot;stylesheet&quot; href=&quot;./index.css&quot;&gt;</span><br><span class="line">  &lt;script src=&quot;./vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script src=&quot;./axios.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script src=&quot;./index.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;el-container&gt;</span><br><span class="line">      &lt;!-- 这里直接写内容 --&gt;</span><br><span class="line">    &lt;/el-container&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">      el: &#x27;#app&#x27;,</span><br><span class="line">      data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          // 初始数据</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        // 方法与函数调用</span><br><span class="line">      &#125;,</span><br><span class="line">      mounted() &#123;</span><br><span class="line">        // 组件挂载完毕后执行的代码</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>插入需要的element组件</p>
<h4 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h4><p>click绑定点击事件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@click=&quot;router1()&quot;</span><br></pre></td></tr></table></figure>

<p>直接应用iframe元素内联样式来设置其位置和大小迅速进行样式的更改</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-main&gt;</span><br><span class="line">	&lt;iframe :src=&quot;iframeSrc&quot; frameborder=&quot;false&quot; style=&quot;top:80px;left: 120px;width: 97%;height: 520px&quot;&gt;&lt;/iframe&gt;</span><br><span class="line">&lt;/el-main&gt;</span><br></pre></td></tr></table></figure>

<p>实现点击不同的事件改变页面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">return &#123;</span><br><span class="line">	iframeSrc: &#x27;&#x27;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">	router1() &#123;</span><br><span class="line">    this.iframeSrc = &quot;root1.php&quot;</span><br><span class="line">    &#125;,      </span><br><span class="line">    router2() &#123;</span><br><span class="line">    this.iframeSrc = &quot;root2.php&quot;</span><br><span class="line">    &#125;, </span><br><span class="line">    router3() &#123;</span><br><span class="line">    this.iframeSrc = &quot;root3.php&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="数据显示"><a href="#数据显示" class="headerlink" title="数据显示"></a>数据显示</h4><p>使用<code>axios</code>发送一个GET请求到服务器的<code>名.php</code>文件，然后将响应数据赋值给Vue组件组件的<code>data</code>函数中声明的一个数据属性<code>数组</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">	axios.get(&#x27;名.php&#x27;)</span><br><span class="line">		.then(response =&gt; &#123;</span><br><span class="line">		this.数组 = response.data;</span><br><span class="line">		&#125;)</span><br><span class="line">&#125;</span><br><span class="line">mounted() &#123;</span><br><span class="line">   axios.get(&#x27;名.php&#x27;)</span><br><span class="line">      .then(response =&gt; &#123;</span><br><span class="line">        this.数组 = response.data;</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(error =&gt; &#123;</span><br><span class="line">        console.error(&#x27;在获取数据时发生错误:&#x27;, error);</span><br><span class="line">      &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>后端数据返回</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&#x27;Content-Type: application/json;charset=utf-8&#x27;);</span><br><span class="line"></span><br><span class="line">$link = mysqli_connect(&quot;127.0.0.1&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or die(&quot;Error connecting&quot;);</span><br><span class="line">mysqli_set_charset($link, &quot;utf8&quot;);</span><br><span class="line"></span><br><span class="line">$query = &quot;SELECT a1, a2, a3, a4 FROM users&quot;;</span><br><span class="line">$result = mysqli_query($link, $query);</span><br><span class="line"></span><br><span class="line">$data = array();</span><br><span class="line">while ($row = mysqli_fetch_assoc($result)) &#123;</span><br><span class="line">    $data[] = $row;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mysqli_close($link);</span><br><span class="line"></span><br><span class="line">echo json_encode($data);</span><br></pre></td></tr></table></figure>

<ol>
<li><code>header(&#39;Content-Type: application/json;charset=utf-8&#39;)</code>: 设置HTTP响应的内容类型为JSON，并指定字符集为UTF-8，以保证客户端如JavaScript能正确解析返回的数据。</li>
<li><code>$link = mysqli_connect(&quot;127.0.0.1&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;)</code>: 使用<code>mysqli_connect</code>函数连接到本地的MySQL数据库服务器，此处使用默认的root用户和密码，并选中<code>security</code>数据库。<code>or die(&quot;Error connecting&quot;)</code>是错误处理，如果连接失败，将结束脚本并打印出”Error connecting”。</li>
<li><code>mysqli_set_charset($link, &quot;utf8&quot;)</code>: 设置数据库连接的字符集为UTF-8，这样传输的数据便能够正确处理国际字符。</li>
<li><code>$query = &quot;SELECT a1, a2, a3, a4 FROM users&quot;</code>: 定义了一个SQL查询，该查询用于从<code>users</code>表中选取<code>a1</code>，<code>a2</code>，<code>a3</code>和<code>a4</code>四个字段。</li>
<li><code>$result = mysqli_query($link, $query)</code>: 执行上面定义的查询。</li>
<li>在<code>while</code>循环中，<code>mysqli_fetch_assoc($result)</code>被调用，它逐一取出每行结果，并将结果行作为关联数组返回。</li>
<li>所有的行都被逐个添加到<code>$data</code>数组中。</li>
<li>最后，<code>mysqli_close($link)</code>关闭了与数据库的连接。</li>
<li><code>echo json_encode($data)</code>将所有的行编码为JSON格式，并打印输出，这样前端的JavaScript框架(如Vue.js)就可以通过HTTP请求来获取并处理数据。</li>
</ol>
<h4 id="添加按钮"><a href="#添加按钮" class="headerlink" title="添加按钮"></a>添加按钮</h4><p>增加add，删除delete，修改edit</p>
<p>JavaScript 的严格模式下，delete不能使用，你需要将这个名称更改为非保留字的名称，比如deleteItem</p>
<p>通过scope-slot可以访问<code>scope</code>对象的属性，其中包括行数据 <code>scope.row</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template slot-scope=&quot;scope&quot;&gt;</span><br><span class="line">	&lt;el-button type=&quot;primary&quot; @click=&quot;add(scope.row)&quot;&gt;增加&lt;/el-button&gt;</span><br><span class="line">	&lt;el-button type=&quot;success&quot; @click=&quot;deleteItem(scope.row)&quot;&gt;删除&lt;/el-button&gt;</span><br><span class="line">	&lt;el-button type=&quot;info&quot; @click=&quot;edit(scope.row)&quot;&gt;修改&lt;/el-button&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<p>事件触发</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">add(tableData) &#123;&#125;,</span><br><span class="line">delete(tableData) &#123;&#125;,</span><br><span class="line">edit(tableData) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>对话框</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-container&gt;</span><br><span class="line">         &lt;el-dialog :visible.sync=&quot;dialogTableVisible&quot; title=&quot;编辑用户&quot;&gt;</span><br><span class="line">             &lt;el-form :model=&quot;editForm&quot;&gt;</span><br><span class="line">                 &lt;el-form-item label=&quot;用户名&quot; :label-width=&quot;formLabelWidth&quot;&gt;</span><br><span class="line">                     &lt;el-input v-model=&quot;editForm.username&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">                 &lt;/el-form-item&gt;</span><br><span class="line">                 &lt;el-form-item label=&quot;用户密码&quot; :label-width=&quot;formLabelWidth&quot;&gt;</span><br><span class="line">                     &lt;el-input v-model=&quot;editForm.password&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">                 &lt;/el-form-item&gt;</span><br><span class="line">             &lt;/el-form&gt;</span><br><span class="line">             &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class="line">                 &lt;el-button @click=&quot;edit1 = false&quot;&gt;取消&lt;/el-button&gt;</span><br><span class="line">                 &lt;el-button type=&quot;primary&quot; @click=&quot;submitEdit&quot;&gt;提交&lt;/el-button&gt;</span><br><span class="line">             &lt;/span&gt;</span><br><span class="line">         &lt;/el-dialog&gt;</span><br><span class="line">     &lt;/el-container&gt;</span><br><span class="line">     &lt;el-container&gt;</span><br><span class="line">         &lt;el-dialog :visible.sync=&quot;dialogFormVisible&quot; title=&quot;增加用户&quot;&gt;</span><br><span class="line">             &lt;el-form :model=&quot;addForm&quot;&gt;</span><br><span class="line">                 &lt;el-form-item label=&quot;用户名&quot; :label-width=&quot;formLabelWidth&quot;&gt;</span><br><span class="line">                     &lt;el-input v-model=&quot;addForm.username&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">                 &lt;/el-form-item&gt;</span><br><span class="line">                 &lt;el-form-item label=&quot;用户密码&quot; :label-width=&quot;formLabelWidth&quot;&gt;</span><br><span class="line">                     &lt;el-input v-model=&quot;addForm.password&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">                 &lt;/el-form-item&gt;</span><br><span class="line">             &lt;/el-form&gt;</span><br><span class="line">             &lt;span slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt;</span><br><span class="line">                 &lt;el-button @click=&quot;add1 = false&quot;&gt;取消&lt;/el-button&gt;</span><br><span class="line">                 &lt;el-button type=&quot;primary&quot; @click=&quot;submitAdd&quot;&gt;提交&lt;/el-button&gt;</span><br><span class="line">             &lt;/span&gt;</span><br><span class="line">         &lt;/el-dialog&gt;</span><br><span class="line">     &lt;/el-container&gt;</span><br></pre></td></tr></table></figure>

<p>对editForm和addForm数组赋初值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">editForm: &#123;</span><br><span class="line">                   id: &#x27;&#x27;,</span><br><span class="line">                   username: &#x27;&#x27;,</span><br><span class="line">                   password: &#x27;&#x27;</span><br><span class="line">               &#125;,</span><br><span class="line">               addForm: &#123;</span><br><span class="line">                   username: &#x27;&#x27;,</span><br><span class="line">                   password: &#x27;&#x27;</span><br><span class="line">               &#125;,</span><br></pre></td></tr></table></figure>

<p>对话框提交函数</p>
<p>发送 POST 请求至一个PHP 脚本，这个请求将包括一个动作action参数为 ‘delete’，以及users数组中的id</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">deleteItem() &#123;</span><br><span class="line">                axios.post(&#x27;root111.php&#x27;, &#123;</span><br><span class="line">                    	id: users.id</span><br><span class="line">                        action: &#x27;delete&#x27;,</span><br><span class="line">                    &#125;)</span><br><span class="line">            &#125;,</span><br></pre></td></tr></table></figure>

<p>动作action参数为 ‘add’与动作action参数为 ‘edit’，发送数组addForm与editForm的数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">submitAdd() &#123;</span><br><span class="line">                axios.post(&#x27;root111.php&#x27;, &#123;</span><br><span class="line">                    ...this.addForm,</span><br><span class="line">                    action: &#x27;add&#x27;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line">            submitEdit() &#123;</span><br><span class="line">                axios.post(&#x27;root111.php&#x27;, &#123;</span><br><span class="line">                    ...this.editForm,</span><br><span class="line">                    action: &#x27;edit&#x27;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="后端"><a href="#后端" class="headerlink" title="后端"></a>后端</h3><p>链接数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&#x27;Content-Type: application/json;charset=UTF-8&#x27;);</span><br><span class="line"></span><br><span class="line">$link = mysqli_connect(&quot;127.0.0.1&quot;, &quot;root&quot;, &quot;root&quot;, &quot;security&quot;) or die(&quot;Error connecting&quot;);</span><br><span class="line">mysqli_set_charset($link, &quot;utf8&quot;);</span><br><span class="line"></span><br><span class="line">内容内容内容内容内容内容内容内容内容</span><br><span class="line"></span><br><span class="line">mysqli_close($link);</span><br></pre></td></tr></table></figure>

<p>接受请求</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$input = json_decode(file_get_contents(&#x27;php://input&#x27;), true);</span><br></pre></td></tr></table></figure>

<p>处理请求</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if ($input[&#x27;action&#x27;] = &#x27;delete&#x27;) &#123;</span><br><span class="line">        mysqli_query($link, &quot;DELETE FROM users WHERE id = &#123;$input[&#x27;id&#x27;]&#125;&quot;);</span><br><span class="line">&#125;</span><br><span class="line">if ($input[&#x27;action&#x27;] = &#x27;add&#x27;) &#123;</span><br><span class="line">        mysqli_query($link, &quot;INSERT INTO users (username, password) VALUES (&#x27;&#123;$input[&#x27;username&#x27;]&#125;&#x27;, &#x27;&#123;$input[&#x27;password&#x27;]&#125;&#x27;)&quot;);</span><br><span class="line">&#125;</span><br><span class="line">if ($input[&#x27;action&#x27;] = &#x27;edit&#x27;) &#123;</span><br><span class="line">        mysqli_query($link, &quot;UPDATE users SET username = &#x27;&#123;$input[&#x27;username&#x27;]&#125;&#x27;, password = &#x27;&#123;$input[&#x27;password&#x27;]&#125;&#x27; WHERE id = &#123;$input[&#x27;id&#x27;]&#125;&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>多个请求</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$sql = match ($input[&#x27;action&#x27;]) &#123;</span><br><span class="line">    &#x27;delete&#x27; =&gt; &quot;DELETE FROM users WHERE id = &#123;$input[&#x27;id&#x27;]&#125;&quot;,</span><br><span class="line">    &#x27;add&#x27; =&gt; &quot;INSERT INTO users (username, password) VALUES (&#x27;&#123;$input[&#x27;username&#x27;]&#125;&#x27;, &#x27;&#123;$input[&#x27;password&#x27;]&#125;&#x27;)&quot;,</span><br><span class="line">    &#x27;edit&#x27; =&gt; &quot;UPDATE users SET username = &#x27;&#123;$input[&#x27;username&#x27;]&#125;&#x27;, password = &#x27;&#123;$input[&#x27;password&#x27;]&#125;&#x27; WHERE id = &#123;$input[&#x27;id&#x27;]&#125;&quot;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>switch使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">switch ($input[&#x27;action&#x27;]) &#123;</span><br><span class="line">    case &#x27;delete&#x27;:</span><br><span class="line">        mysqli_query($link, &quot;DELETE FROM users WHERE id = &#123;$input[&#x27;id&#x27;]&#125;&quot;);</span><br><span class="line">        break;</span><br><span class="line">    case &#x27;add&#x27;:</span><br><span class="line">        mysqli_query($link, &quot;INSERT INTO users (username, password) VALUES (&#x27;&#123;$input[&#x27;username&#x27;]&#125;&#x27;, &#x27;&#123;$input[&#x27;password&#x27;]&#125;&#x27;)&quot;);</span><br><span class="line">        break;</span><br><span class="line">    case &#x27;edit&#x27;:</span><br><span class="line">        mysqli_query($link, &quot;UPDATE users SET username = &#x27;&#123;$input[&#x27;username&#x27;]&#125;&#x27;, password = &#x27;&#123;$input[&#x27;password&#x27;]&#125;&#x27; WHERE id = &#123;$input[&#x27;id&#x27;]&#125;&quot;);</span><br><span class="line">        break;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>数据检查</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">switch ($action) &#123;</span><br><span class="line">    case &#x27;delete&#x27;:</span><br><span class="line">        $query = &quot;DELETE FROM users WHERE id = &quot;.$input[&#x27;id&#x27;];</span><br><span class="line">        $result[&#x27;success&#x27;] = mysqli_query($link, $query);</span><br><span class="line">        break;</span><br><span class="line">    case &#x27;add&#x27;:</span><br><span class="line">        $query = &quot;INSERT INTO users (username, password) VALUES (&#x27;&quot;.$input[&#x27;username&#x27;].&quot;&#x27;, &#x27;&quot;.$input[&#x27;password&#x27;].&quot;&#x27;)&quot;;</span><br><span class="line">        $result[&#x27;success&#x27;] = mysqli_query($link, $query);</span><br><span class="line">        break;</span><br><span class="line">    case &#x27;edit&#x27;:</span><br><span class="line">        $query = &quot;UPDATE users SET username = &#x27;&quot;.$input[&#x27;username&#x27;].&quot;&#x27;, password = &#x27;&quot;.$input[&#x27;password&#x27;].&quot;&#x27; WHERE id = &quot;.$input[&#x27;id&#x27;];</span><br><span class="line">        $result[&#x27;success&#x27;] = mysqli_query($link, $query);</span><br><span class="line">        break;</span><br><span class="line">&#125;</span><br><span class="line">if ($success) &#123;</span><br><span class="line">        echo json_encode([&#x27;success&#x27; =&gt; true]);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        echo json_encode([&#x27;error&#x27; =&gt; true]);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>数据预处理</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">switch ($input[&#x27;action&#x27;]) &#123;</span><br><span class="line">    case &#x27;delete&#x27;:</span><br><span class="line">        $stmt = mysqli_prepare($link, &quot;DELETE FROM users WHERE id = ?&quot;);</span><br><span class="line">        mysqli_stmt_bind_param($stmt, &#x27;i&#x27;, $input[&#x27;id&#x27;]);</span><br><span class="line">        break;</span><br><span class="line">    case &#x27;add&#x27;:</span><br><span class="line">        $stmt = mysqli_prepare($link, &quot;INSERT INTO users (username, password) VALUES (?, ?)&quot;);</span><br><span class="line">        mysqli_stmt_bind_param($stmt, &#x27;ss&#x27;, $input[&#x27;username&#x27;], $input[&#x27;password&#x27;]);</span><br><span class="line">        break;</span><br><span class="line">    case &#x27;edit&#x27;:</span><br><span class="line">        $stmt = mysqli_prepare($link, &quot;UPDATE users SET username = ?, password = ? WHERE id = ?&quot;);</span><br><span class="line">        mysqli_stmt_bind_param($stmt, &#x27;ssi&#x27;, $input[&#x27;username&#x27;], $input[&#x27;password&#x27;], $input[&#x27;id&#x27;]);</span><br><span class="line">        break;</span><br><span class="line">    default:</span><br><span class="line">        die(json_encode([&#x27;error&#x27; =&gt; &quot;Invalid action&quot;]));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>布尔返回与语句释放</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">switch ($input[&#x27;action&#x27;]) &#123;</span><br><span class="line">    case &#x27;delete&#x27;:</span><br><span class="line">        $stmt = mysqli_prepare($link, &quot;DELETE FROM users WHERE id = ?&quot;);</span><br><span class="line">        mysqli_stmt_bind_param($stmt, &#x27;i&#x27;, $input[&#x27;id&#x27;]);</span><br><span class="line">        $success = mysqli_stmt_execute($stmt);</span><br><span class="line">        mysqli_stmt_close($stmt);</span><br><span class="line">        break;</span><br><span class="line">    case &#x27;add&#x27;:</span><br><span class="line">        $stmt = mysqli_prepare($link, &quot;INSERT INTO users (username,password) VALUES (?, ?)&quot;);</span><br><span class="line">        mysqli_stmt_bind_param($stmt, &#x27;ss&#x27;, $input[&#x27;username&#x27;], $input[&#x27;password&#x27;]);</span><br><span class="line">        $success = mysqli_stmt_execute($stmt);</span><br><span class="line">        mysqli_stmt_close($stmt);</span><br><span class="line">        break;</span><br><span class="line">    case &#x27;edit&#x27;:</span><br><span class="line">        $stmt = mysqli_prepare($link, &quot;UPDATE users SET username = ?, password = ?WHERE id = ?&quot;);</span><br><span class="line">        mysqli_stmt_bind_param($stmt, &#x27;ssi&#x27;, $input[&#x27;username&#x27;], $input[&#x27;password&#x27;], $input[&#x27;id&#x27;]);</span><br><span class="line">        $success = mysqli_stmt_execute($stmt);</span><br><span class="line">        mysqli_stmt_close($stmt);</span><br><span class="line">        break;</span><br><span class="line">    default:</span><br><span class="line">        $success = false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($success) &#123;</span><br><span class="line">    echo json_encode([&#x27;status&#x27; =&gt; &#x27;success&#x27;, &#x27;message&#x27; =&gt; &#x27;成功&#x27;]);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    echo json_encode([&#x27;status&#x27; =&gt; &#x27;error&#x27;, &#x27;message&#x27; =&gt; &#x27;失败&#x27;]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>- </p>

      </section>
      <section class="extra">
        
          <ul class="copyright">
  
    <li><strong>本文作者：</strong>John Doe</li>
    <li><strong>本文链接：</strong><a href="http://example.com/2024/01/18/%E5%89%8D%E5%90%8E%E7%AB%AF%E8%BF%9E%E6%8E%A5%E4%B8%8E/index.html" title="http:&#x2F;&#x2F;example.com&#x2F;2024&#x2F;01&#x2F;18&#x2F;%E5%89%8D%E5%90%8E%E7%AB%AF%E8%BF%9E%E6%8E%A5%E4%B8%8E&#x2F;index.html">http:&#x2F;&#x2F;example.com&#x2F;2024&#x2F;01&#x2F;18&#x2F;%E5%89%8D%E5%90%8E%E7%AB%AF%E8%BF%9E%E6%8E%A5%E4%B8%8E&#x2F;index.html</a></li>
    <li><strong>版权声明：</strong>本博客所有文章均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" title="BY-NC-SA" target="_blank" rel="noopener">BY-NC-SA</a> 许可协议，转载请注明出处！</li>
  
</ul>
        
        
          <section class="donate">
  <div id="qrcode-donate">
    <img   class="lazyload" data-original="https://pic.izhaoo.com/alipay.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" >
  </div>
  <div class="icon">
    <a href="javascript:;" id="alipay"><i class="iconfont iconalipay"></i></a>
    <a href="javascript:;" id="wechat"><i class="iconfont iconwechat-fill"></i></a>
  </div>
</section>
        
        
        
  <nav class="nav">
    <a href="/2024/01/18/%E5%8D%9A%E5%AE%A2/"><i class="iconfont iconleft"></i>github博客的搭建</a>
    <a href="/2024/01/18/%E5%9F%9F%E5%90%8D%E7%AB%AF%E5%8F%A3/">网安基础（网址解析，汇编语言发展等）vue基础<i class="iconfont iconright"></i></a>
  </nav>

      </section>
      
    </section>
  </div>
</article></div>
      <div class="col-xl-3">
        
          
  <aside class="toc-wrap">
    <h3 class="toc-title">文章目录：</h3>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E8%BF%9E%E6%8E%A5%E4%B8%8Ephp%E5%9F%BA%E7%A1%80"><span class="toc-text">前后端连接与php基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#PHP%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">PHP基础语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF%E4%BE%8B%E9%A2%98"><span class="toc-text">for循环例题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E8%BF%9E%E6%8E%A5"><span class="toc-text">前后端连接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8phpstudy-pro%E4%B8%AD%E8%AE%BE%E7%BD%AE%E4%B8%BA%EF%BC%9A"><span class="toc-text">在phpstudy_pro中设置为：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%BC%80navicat%EF%BC%8C%E8%BF%9E%E6%8E%A5%EF%BC%9A"><span class="toc-text">打开navicat，连接：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%BC%80vscode%EF%BC%8C"><span class="toc-text">打开vscode，</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E5%96%84%E9%A1%B5%E9%9D%A2"><span class="toc-text">完善页面</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#php%E8%BF%9B%E9%98%B6"><span class="toc-text">php进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E4%B9%A6%E5%80%9F%E9%98%85%E7%BD%91%E7%AB%99"><span class="toc-text">图书借阅网站</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%86%E5%A4%87"><span class="toc-text">准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF"><span class="toc-text">前端</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E7%AB%AF"><span class="toc-text">后端</span></a></li></ol></li></ol></li></ol>
  </aside>

        
      </div>
    </div>
  </div>
</main>
  

<footer class="footer">
  <div class="footer-social"><a 
        href="tencent://message/?Menu=yes&uin=894519210 "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#12B7F5'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconQQ "></i>
      </a><a 
        href="javascript:; "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#09BB07'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconwechat-fill "></i>
      </a><a 
        href="https://www.instagram.com/izhaoo/ "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#DA2E76'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconinstagram "></i>
      </a><a 
        href="https://github.com/zhaoo "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#9f7be1'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  icongithub-fill "></i>
      </a><a 
        href="mailto:izhaoo@163.com "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color=#FF3B00" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconmail"></i>
      </a></div>
  
    <div class="footer-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
  
</footer>
  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  
  
  
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  
  
  
    
<script src="/js/color-mode.js"></script>

  
  
</body>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>





  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>




  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>






  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>




<script src="/js/utils.js"></script>
<script src="/js/script.js"></script>







  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>












</html>